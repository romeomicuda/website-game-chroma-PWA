let levels = [
  [
    [
      "rgb(0, 0, 0)",
      "rgb(0, 10, 0)",
      "rgb(0, 20, 0)",
      "rgb(0, 30, 0)",
      "rgb(0, 40, 0)",
      "rgb(0, 50, 0)",
      "rgb(0, 60, 0)",
      "rgb(0, 70, 0)",
    ],
    [
      "rgb(10, 0, 0)",
      "rgb(10, 10, 0)",
      "rgb(10, 20, 0)",
      "rgb(10, 30, 0)",
      "rgb(10, 40, 0)",
      "rgb(10, 50, 0)",
      "rgb(10, 60, 0)",
      "rgb(10, 70, 0)",
    ],
    [
      "rgb(20, 0, 0)",
      "rgb(20, 10, 0)",
      "rgb(20, 20, 0)",
      "rgb(20, 30, 0)",
      "rgb(20, 40, 0)",
      "rgb(20, 50, 0)",
      "rgb(20, 60, 0)",
      "rgb(20, 70, 0)",
    ],
    [
      "rgb(30, 0, 0)",
      "rgb(30, 10, 0)",
      "rgb(30, 20, 0)",
      "rgb(30, 30, 0)",
      "rgb(30, 40, 0)",
      "rgb(30, 50, 0)",
      "rgb(30, 60, 0)",
      "rgb(30, 70, 0)",
    ],
    [
      "rgb(40, 0, 0)",
      "rgb(40, 10, 0)",
      "rgb(40, 20, 0)",
      "rgb(40, 30, 0)",
      "rgb(40, 40, 0)",
      "rgb(40, 50, 0)",
      "rgb(40, 60, 0)",
      "rgb(40, 70, 0)",
    ],
    [
      "rgb(50, 0, 0)",
      "rgb(50, 10, 0)",
      "rgb(50, 20, 0)",
      "rgb(50, 30, 0)",
      "rgb(50, 40, 0)",
      "rgb(50, 50, 0)",
      "rgb(50, 60, 0)",
      "rgb(50, 70, 0)",
    ],
    [
      "rgb(60, 0, 0)",
      "rgb(60, 10, 0)",
      "rgb(60, 20, 0)",
      "rgb(60, 30, 0)",
      "rgb(60, 40, 0)",
      "rgb(60, 50, 0)",
      "rgb(60, 60, 0)",
      "rgb(60, 70, 0)",
    ],
    [
      "rgb(70, 0, 0)",
      "rgb(70, 10, 0)",
      "rgb(70, 20, 0)",
      "rgb(70, 30, 0)",
      "rgb(70, 40, 0)",
      "rgb(70, 50, 0)",
      "rgb(70, 60, 0)",
      "rgb(70, 70, 0)",
    ],
  ],
  [
    [
      "rgb(0, 0, 0)",
      "rgb(0, 0, 10)",
      "rgb(0, 0, 20)",
      "rgb(0, 0, 30)",
      "rgb(0, 0, 40)",
      "rgb(0, 0, 50)",
      "rgb(0, 0, 60)",
      "rgb(0, 0, 70)",
    ],
    [
      "rgb(10, 0, 0)",
      "rgb(10, 0, 10)",
      "rgb(10, 0, 20)",
      "rgb(10, 0, 30)",
      "rgb(10, 0, 40)",
      "rgb(10, 0, 50)",
      "rgb(10, 0, 60)",
      "rgb(10, 0, 70)",
    ],
    [
      "rgb(20, 0, 0)",
      "rgb(20, 0, 10)",
      "rgb(20, 0, 20)",
      "rgb(20, 0, 30)",
      "rgb(20, 0, 40)",
      "rgb(20, 0, 50)",
      "rgb(20, 0, 60)",
      "rgb(20, 0, 70)",
    ],
    [
      "rgb(30, 0, 0)",
      "rgb(30, 0, 10)",
      "rgb(30, 0, 20)",
      "rgb(30, 0, 30)",
      "rgb(30, 0, 40)",
      "rgb(30, 0, 50)",
      "rgb(30, 0, 60)",
      "rgb(30, 0, 70)",
    ],
    [
      "rgb(40, 0, 0)",
      "rgb(40, 0, 10)",
      "rgb(40, 0, 20)",
      "rgb(40, 0, 30)",
      "rgb(40, 0, 40)",
      "rgb(40, 0, 50)",
      "rgb(40, 0, 60)",
      "rgb(40, 0, 70)",
    ],
    [
      "rgb(50, 0, 0)",
      "rgb(50, 0, 10)",
      "rgb(50, 0, 20)",
      "rgb(50, 0, 30)",
      "rgb(50, 0, 40)",
      "rgb(50, 0, 50)",
      "rgb(50, 0, 60)",
      "rgb(50, 0, 70)",
    ],
    [
      "rgb(60, 0, 0)",
      "rgb(60, 0, 10)",
      "rgb(60, 0, 20)",
      "rgb(60, 0, 30)",
      "rgb(60, 0, 40)",
      "rgb(60, 0, 50)",
      "rgb(60, 0, 60)",
      "rgb(60, 0, 70)",
    ],
    [
      "rgb(70, 0, 0)",
      "rgb(70, 0, 10)",
      "rgb(70, 0, 20)",
      "rgb(70, 0, 30)",
      "rgb(70, 0, 40)",
      "rgb(70, 0, 50)",
      "rgb(70, 0, 60)",
      "rgb(70, 0, 70)",
    ],
  ],
  [
    [
      "rgb(0, 0, 0)",
      "rgb(0, 0, 10)",
      "rgb(0, 0, 20)",
      "rgb(0, 0, 30)",
      "rgb(0, 0, 40)",
      "rgb(0, 0, 50)",
      "rgb(0, 0, 60)",
      "rgb(0, 0, 70)",
    ],
    [
      "rgb(0, 10, 0)",
      "rgb(0, 10, 10)",
      "rgb(0, 10, 20)",
      "rgb(0, 10, 30)",
      "rgb(0, 10, 40)",
      "rgb(0, 10, 50)",
      "rgb(0, 10, 60)",
      "rgb(0, 10, 70)",
    ],
    [
      "rgb(0, 20, 0)",
      "rgb(0, 20, 10)",
      "rgb(0, 20, 20)",
      "rgb(0, 20, 30)",
      "rgb(0, 20, 40)",
      "rgb(0, 20, 50)",
      "rgb(0, 20, 60)",
      "rgb(0, 20, 70)",
    ],
    [
      "rgb(0, 30, 0)",
      "rgb(0, 30, 10)",
      "rgb(0, 30, 20)",
      "rgb(0, 30, 30)",
      "rgb(0, 30, 40)",
      "rgb(0, 30, 50)",
      "rgb(0, 30, 60)",
      "rgb(0, 30, 70)",
    ],
    [
      "rgb(0, 40, 0)",
      "rgb(0, 40, 10)",
      "rgb(0, 40, 20)",
      "rgb(0, 40, 30)",
      "rgb(0, 40, 40)",
      "rgb(0, 40, 50)",
      "rgb(0, 40, 60)",
      "rgb(0, 40, 70)",
    ],
    [
      "rgb(0, 50, 0)",
      "rgb(0, 50, 10)",
      "rgb(0, 50, 20)",
      "rgb(0, 50, 30)",
      "rgb(0, 50, 40)",
      "rgb(0, 50, 50)",
      "rgb(0, 50, 60)",
      "rgb(0, 50, 70)",
    ],
    [
      "rgb(0, 60, 0)",
      "rgb(0, 60, 10)",
      "rgb(0, 60, 20)",
      "rgb(0, 60, 30)",
      "rgb(0, 60, 40)",
      "rgb(0, 60, 50)",
      "rgb(0, 60, 60)",
      "rgb(0, 60, 70)",
    ],
    [
      "rgb(0, 70, 0)",
      "rgb(0, 70, 10)",
      "rgb(0, 70, 20)",
      "rgb(0, 70, 30)",
      "rgb(0, 70, 40)",
      "rgb(0, 70, 50)",
      "rgb(0, 70, 60)",
      "rgb(0, 70, 70)",
    ],
  ],
  [
    [
      "rgb(0, 0, 50)",
      "rgb(0, 10, 50)",
      "rgb(0, 20, 50)",
      "rgb(0, 30, 50)",
      "rgb(0, 40, 50)",
      "rgb(0, 50, 50)",
      "rgb(0, 60, 50)",
      "rgb(0, 70, 50)",
    ],
    [
      "rgb(10, 0, 50)",
      "rgb(10, 10, 50)",
      "rgb(10, 20, 50)",
      "rgb(10, 30, 50)",
      "rgb(10, 40, 50)",
      "rgb(10, 50, 50)",
      "rgb(10, 60, 50)",
      "rgb(10, 70, 50)",
    ],
    [
      "rgb(20, 0, 50)",
      "rgb(20, 10, 50)",
      "rgb(20, 20, 50)",
      "rgb(20, 30, 50)",
      "rgb(20, 40, 50)",
      "rgb(20, 50, 50)",
      "rgb(20, 60, 50)",
      "rgb(20, 70, 50)",
    ],
    [
      "rgb(30, 0, 50)",
      "rgb(30, 10, 50)",
      "rgb(30, 20, 50)",
      "rgb(30, 30, 50)",
      "rgb(30, 40, 50)",
      "rgb(30, 50, 50)",
      "rgb(30, 60, 50)",
      "rgb(30, 70, 50)",
    ],
    [
      "rgb(40, 0, 50)",
      "rgb(40, 10, 50)",
      "rgb(40, 20, 50)",
      "rgb(40, 30, 50)",
      "rgb(40, 40, 50)",
      "rgb(40, 50, 50)",
      "rgb(40, 60, 50)",
      "rgb(40, 70, 50)",
    ],
    [
      "rgb(50, 0, 50)",
      "rgb(50, 10, 50)",
      "rgb(50, 20, 50)",
      "rgb(50, 30, 50)",
      "rgb(50, 40, 50)",
      "rgb(50, 50, 50)",
      "rgb(50, 60, 50)",
      "rgb(50, 70, 50)",
    ],
    [
      "rgb(60, 0, 50)",
      "rgb(60, 10, 50)",
      "rgb(60, 20, 50)",
      "rgb(60, 30, 50)",
      "rgb(60, 40, 50)",
      "rgb(60, 50, 50)",
      "rgb(60, 60, 50)",
      "rgb(60, 70, 50)",
    ],
    [
      "rgb(70, 0, 50)",
      "rgb(70, 10, 50)",
      "rgb(70, 20, 50)",
      "rgb(70, 30, 50)",
      "rgb(70, 40, 50)",
      "rgb(70, 50, 50)",
      "rgb(70, 60, 50)",
      "rgb(70, 70, 50)",
    ],
  ],
  [
    [
      "rgb(0, 50, 0)",
      "rgb(0, 50, 10)",
      "rgb(0, 50, 20)",
      "rgb(0, 50, 30)",
      "rgb(0, 50, 40)",
      "rgb(0, 50, 50)",
      "rgb(0, 50, 60)",
      "rgb(0, 50, 70)",
    ],
    [
      "rgb(10, 50, 0)",
      "rgb(10, 50, 10)",
      "rgb(10, 50, 20)",
      "rgb(10, 50, 30)",
      "rgb(10, 50, 40)",
      "rgb(10, 50, 50)",
      "rgb(10, 50, 60)",
      "rgb(10, 50, 70)",
    ],
    [
      "rgb(20, 50, 0)",
      "rgb(20, 50, 10)",
      "rgb(20, 50, 20)",
      "rgb(20, 50, 30)",
      "rgb(20, 50, 40)",
      "rgb(20, 50, 50)",
      "rgb(20, 50, 60)",
      "rgb(20, 50, 70)",
    ],
    [
      "rgb(30, 50, 0)",
      "rgb(30, 50, 10)",
      "rgb(30, 50, 20)",
      "rgb(30, 50, 30)",
      "rgb(30, 50, 40)",
      "rgb(30, 50, 50)",
      "rgb(30, 50, 60)",
      "rgb(30, 50, 70)",
    ],
    [
      "rgb(40, 50, 0)",
      "rgb(40, 50, 10)",
      "rgb(40, 50, 20)",
      "rgb(40, 50, 30)",
      "rgb(40, 50, 40)",
      "rgb(40, 50, 50)",
      "rgb(40, 50, 60)",
      "rgb(40, 50, 70)",
    ],
    [
      "rgb(50, 50, 0)",
      "rgb(50, 50, 10)",
      "rgb(50, 50, 20)",
      "rgb(50, 50, 30)",
      "rgb(50, 50, 40)",
      "rgb(50, 50, 50)",
      "rgb(50, 50, 60)",
      "rgb(50, 50, 70)",
    ],
    [
      "rgb(60, 50, 0)",
      "rgb(60, 50, 10)",
      "rgb(60, 50, 20)",
      "rgb(60, 50, 30)",
      "rgb(60, 50, 40)",
      "rgb(60, 50, 50)",
      "rgb(60, 50, 60)",
      "rgb(60, 50, 70)",
    ],
    [
      "rgb(70, 50, 0)",
      "rgb(70, 50, 10)",
      "rgb(70, 50, 20)",
      "rgb(70, 50, 30)",
      "rgb(70, 50, 40)",
      "rgb(70, 50, 50)",
      "rgb(70, 50, 60)",
      "rgb(70, 50, 70)",
    ],
  ],
  [
    [
      "rgb(50, 0, 0)",
      "rgb(50, 0, 10)",
      "rgb(50, 0, 20)",
      "rgb(50, 0, 30)",
      "rgb(50, 0, 40)",
      "rgb(50, 0, 50)",
      "rgb(50, 0, 60)",
      "rgb(50, 0, 70)",
    ],
    [
      "rgb(50, 10, 0)",
      "rgb(50, 10, 10)",
      "rgb(50, 10, 20)",
      "rgb(50, 10, 30)",
      "rgb(50, 10, 40)",
      "rgb(50, 10, 50)",
      "rgb(50, 10, 60)",
      "rgb(50, 10, 70)",
    ],
    [
      "rgb(50, 20, 0)",
      "rgb(50, 20, 10)",
      "rgb(50, 20, 20)",
      "rgb(50, 20, 30)",
      "rgb(50, 20, 40)",
      "rgb(50, 20, 50)",
      "rgb(50, 20, 60)",
      "rgb(50, 20, 70)",
    ],
    [
      "rgb(50, 30, 0)",
      "rgb(50, 30, 10)",
      "rgb(50, 30, 20)",
      "rgb(50, 30, 30)",
      "rgb(50, 30, 40)",
      "rgb(50, 30, 50)",
      "rgb(50, 30, 60)",
      "rgb(50, 30, 70)",
    ],
    [
      "rgb(50, 40, 0)",
      "rgb(50, 40, 10)",
      "rgb(50, 40, 20)",
      "rgb(50, 40, 30)",
      "rgb(50, 40, 40)",
      "rgb(50, 40, 50)",
      "rgb(50, 40, 60)",
      "rgb(50, 40, 70)",
    ],
    [
      "rgb(50, 50, 0)",
      "rgb(50, 50, 10)",
      "rgb(50, 50, 20)",
      "rgb(50, 50, 30)",
      "rgb(50, 50, 40)",
      "rgb(50, 50, 50)",
      "rgb(50, 50, 60)",
      "rgb(50, 50, 70)",
    ],
    [
      "rgb(50, 60, 0)",
      "rgb(50, 60, 10)",
      "rgb(50, 60, 20)",
      "rgb(50, 60, 30)",
      "rgb(50, 60, 40)",
      "rgb(50, 60, 50)",
      "rgb(50, 60, 60)",
      "rgb(50, 60, 70)",
    ],
    [
      "rgb(50, 70, 0)",
      "rgb(50, 70, 10)",
      "rgb(50, 70, 20)",
      "rgb(50, 70, 30)",
      "rgb(50, 70, 40)",
      "rgb(50, 70, 50)",
      "rgb(50, 70, 60)",
      "rgb(50, 70, 70)",
    ],
  ],
  [
    [
      "rgb(50, 0, 0)",
      "rgb(50, 0, 25)",
      "rgb(50, 0, 50)",
      "rgb(50, 0, 75)",
      "rgb(50, 0, 100)",
      "rgb(50, 0, 125)",
      "rgb(50, 0, 150)",
      "rgb(50, 0, 175)",
    ],
    [
      "rgb(50, 25, 0)",
      "rgb(50, 25, 25)",
      "rgb(50, 25, 50)",
      "rgb(50, 25, 75)",
      "rgb(50, 25, 100)",
      "rgb(50, 25, 125)",
      "rgb(50, 25, 150)",
      "rgb(50, 25, 175)",
    ],
    [
      "rgb(50, 50, 0)",
      "rgb(50, 50, 25)",
      "rgb(50, 50, 50)",
      "rgb(50, 50, 75)",
      "rgb(50, 50, 100)",
      "rgb(50, 50, 125)",
      "rgb(50, 50, 150)",
      "rgb(50, 50, 175)",
    ],
    [
      "rgb(50, 75, 0)",
      "rgb(50, 75, 25)",
      "rgb(50, 75, 50)",
      "rgb(50, 75, 75)",
      "rgb(50, 75, 100)",
      "rgb(50, 75, 125)",
      "rgb(50, 75, 150)",
      "rgb(50, 75, 175)",
    ],
    [
      "rgb(50, 100, 0)",
      "rgb(50, 100, 25)",
      "rgb(50, 100, 50)",
      "rgb(50, 100, 75)",
      "rgb(50, 100, 100)",
      "rgb(50, 100, 125)",
      "rgb(50, 100, 150)",
      "rgb(50, 100, 175)",
    ],
    [
      "rgb(50, 125, 0)",
      "rgb(50, 125, 25)",
      "rgb(50, 125, 50)",
      "rgb(50, 125, 75)",
      "rgb(50, 125, 100)",
      "rgb(50, 125, 125)",
      "rgb(50, 125, 150)",
      "rgb(50, 125, 175)",
    ],
    [
      "rgb(50, 150, 0)",
      "rgb(50, 150, 25)",
      "rgb(50, 150, 50)",
      "rgb(50, 150, 75)",
      "rgb(50, 150, 100)",
      "rgb(50, 150, 125)",
      "rgb(50, 150, 150)",
      "rgb(50, 150, 175)",
    ],
    [
      "rgb(50, 175, 0)",
      "rgb(50, 175, 25)",
      "rgb(50, 175, 50)",
      "rgb(50, 175, 75)",
      "rgb(50, 175, 100)",
      "rgb(50, 175, 125)",
      "rgb(50, 175, 150)",
      "rgb(50, 175, 175)",
    ],
  ],
  [
    [
      "rgb(0, 0, 0)",
      "rgb(20, 0, 0)",
      "rgb(40, 0, 0)",
      "rgb(60, 0, 0)",
      "rgb(80, 0, 0)",
      "rgb(100, 0, 0)",
      "rgb(120, 0, 0)",
      "rgb(140, 0, 0)",
    ],
    [
      "rgb(0, 30, 30)",
      "rgb(20, 30, 30)",
      "rgb(40, 30, 30)",
      "rgb(60, 30, 30)",
      "rgb(80, 30, 30)",
      "rgb(100, 30, 30)",
      "rgb(120, 30, 30)",
      "rgb(140, 30, 30)",
    ],
    [
      "rgb(0, 60, 60)",
      "rgb(20, 60, 60)",
      "rgb(40, 60, 60)",
      "rgb(60, 60, 60)",
      "rgb(80, 60, 60)",
      "rgb(100, 60, 60)",
      "rgb(120, 60, 60)",
      "rgb(140, 60, 60)",
    ],
    [
      "rgb(0, 90, 90)",
      "rgb(20, 90, 90)",
      "rgb(40, 90, 90)",
      "rgb(60, 90, 90)",
      "rgb(80, 90, 90)",
      "rgb(100, 90, 90)",
      "rgb(120, 90, 90)",
      "rgb(140, 90, 90)",
    ],
    [
      "rgb(0, 120, 120)",
      "rgb(20, 120, 120)",
      "rgb(40, 120, 120)",
      "rgb(60, 120, 120)",
      "rgb(80, 120, 120)",
      "rgb(100, 120, 120)",
      "rgb(120, 120, 120)",
      "rgb(140, 120, 120)",
    ],
    [
      "rgb(0, 150, 150)",
      "rgb(20, 150, 150)",
      "rgb(40, 150, 150)",
      "rgb(60, 150, 150)",
      "rgb(80, 150, 150)",
      "rgb(100, 150, 150)",
      "rgb(120, 150, 150)",
      "rgb(140, 150, 150)",
    ],
    [
      "rgb(0, 180, 180)",
      "rgb(20, 180, 180)",
      "rgb(40, 180, 180)",
      "rgb(60, 180, 180)",
      "rgb(80, 180, 180)",
      "rgb(100, 180, 180)",
      "rgb(120, 180, 180)",
      "rgb(140, 180, 180)",
    ],
    [
      "rgb(0, 210, 210)",
      "rgb(20, 210, 210)",
      "rgb(40, 210, 210)",
      "rgb(60, 210, 210)",
      "rgb(80, 210, 210)",
      "rgb(100, 210, 210)",
      "rgb(120, 210, 210)",
      "rgb(140, 210, 210)",
    ],
  ],
  [
    [
      "rgb(0, 0, 0)",
      "rgb(0, 0, 30)",
      "rgb(0, 0, 60)",
      "rgb(0, 0, 90)",
      "rgb(0, 0, 120)",
      "rgb(0, 0, 150)",
      "rgb(0, 0, 180)",
      "rgb(0, 0, 210)",
    ],
    [
      "rgb(30, 10, 0)",
      "rgb(30, 10, 30)",
      "rgb(30, 10, 60)",
      "rgb(30, 10, 90)",
      "rgb(30, 10, 120)",
      "rgb(30, 10, 150)",
      "rgb(30, 10, 180)",
      "rgb(30, 10, 210)",
    ],
    [
      "rgb(60, 20, 0)",
      "rgb(60, 20, 30)",
      "rgb(60, 20, 60)",
      "rgb(60, 20, 90)",
      "rgb(60, 20, 120)",
      "rgb(60, 20, 150)",
      "rgb(60, 20, 180)",
      "rgb(60, 20, 210)",
    ],
    [
      "rgb(90, 30, 0)",
      "rgb(90, 30, 30)",
      "rgb(90, 30, 60)",
      "rgb(90, 30, 90)",
      "rgb(90, 30, 120)",
      "rgb(90, 30, 150)",
      "rgb(90, 30, 180)",
      "rgb(90, 30, 210)",
    ],
    [
      "rgb(120, 40, 0)",
      "rgb(120, 40, 30)",
      "rgb(120, 40, 60)",
      "rgb(120, 40, 90)",
      "rgb(120, 40, 120)",
      "rgb(120, 40, 150)",
      "rgb(120, 40, 180)",
      "rgb(120, 40, 210)",
    ],
    [
      "rgb(150, 50, 0)",
      "rgb(150, 50, 30)",
      "rgb(150, 50, 60)",
      "rgb(150, 50, 90)",
      "rgb(150, 50, 120)",
      "rgb(150, 50, 150)",
      "rgb(150, 50, 180)",
      "rgb(150, 50, 210)",
    ],
    [
      "rgb(180, 60, 0)",
      "rgb(180, 60, 30)",
      "rgb(180, 60, 60)",
      "rgb(180, 60, 90)",
      "rgb(180, 60, 120)",
      "rgb(180, 60, 150)",
      "rgb(180, 60, 180)",
      "rgb(180, 60, 210)",
    ],
    [
      "rgb(210, 70, 0)",
      "rgb(210, 70, 30)",
      "rgb(210, 70, 60)",
      "rgb(210, 70, 90)",
      "rgb(210, 70, 120)",
      "rgb(210, 70, 150)",
      "rgb(210, 70, 180)",
      "rgb(210, 70, 210)",
    ],
  ],
  [
    [
      "rgb(0, 0, 0)",
      "rgb(30, 0, 0)",
      "rgb(60, 0, 0)",
      "rgb(90, 0, 0)",
      "rgb(120, 0, 0)",
      "rgb(150, 0, 0)",
      "rgb(180, 0, 0)",
      "rgb(210, 0, 0)",
    ],
    [
      "rgb(0, 30, 20)",
      "rgb(30, 30, 20)",
      "rgb(60, 30, 20)",
      "rgb(90, 30, 20)",
      "rgb(120, 30, 20)",
      "rgb(150, 30, 20)",
      "rgb(180, 30, 20)",
      "rgb(210, 30, 20)",
    ],
    [
      "rgb(0, 60, 40)",
      "rgb(30, 60, 40)",
      "rgb(60, 60, 40)",
      "rgb(90, 60, 40)",
      "rgb(120, 60, 40)",
      "rgb(150, 60, 40)",
      "rgb(180, 60, 40)",
      "rgb(210, 60, 40)",
    ],
    [
      "rgb(0, 90, 60)",
      "rgb(30, 90, 60)",
      "rgb(60, 90, 60)",
      "rgb(90, 90, 60)",
      "rgb(120, 90, 60)",
      "rgb(150, 90, 60)",
      "rgb(180, 90, 60)",
      "rgb(210, 90, 60)",
    ],
    [
      "rgb(0, 120, 80)",
      "rgb(30, 120, 80)",
      "rgb(60, 120, 80)",
      "rgb(90, 120, 80)",
      "rgb(120, 120, 80)",
      "rgb(150, 120, 80)",
      "rgb(180, 120, 80)",
      "rgb(210, 120, 80)",
    ],
    [
      "rgb(0, 150, 100)",
      "rgb(30, 150, 100)",
      "rgb(60, 150, 100)",
      "rgb(90, 150, 100)",
      "rgb(120, 150, 100)",
      "rgb(150, 150, 100)",
      "rgb(180, 150, 100)",
      "rgb(210, 150, 100)",
    ],
    [
      "rgb(0, 180, 120)",
      "rgb(30, 180, 120)",
      "rgb(60, 180, 120)",
      "rgb(90, 180, 120)",
      "rgb(120, 180, 120)",
      "rgb(150, 180, 120)",
      "rgb(180, 180, 120)",
      "rgb(210, 180, 120)",
    ],
    [
      "rgb(0, 210, 140)",
      "rgb(30, 210, 140)",
      "rgb(60, 210, 140)",
      "rgb(90, 210, 140)",
      "rgb(120, 210, 140)",
      "rgb(150, 210, 140)",
      "rgb(180, 210, 140)",
      "rgb(210, 210, 140)",
    ],
  ],
];

let copy;
let numbers = [];
let flag = false;
let numbersOfLevels;

const copyOfArray = (array) => {
  let copy = new Array(10);
  for (let i = 0; i < 10; i++) {
    copy[i] = new Array(8);
    for (let j = 0; j < 8; j++) {
      copy[i][j] = new Array(8);
      for (let k = 0; k < 8; k++) {
        copy[i][j][k] = array[i][j][k];
      }
    }
  }
  return copy;
};

const shuffleArray = (array) => {
  counterAccomplishLevels();
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
};

const randomInteger = (min, max) => {
  return Math.floor(Math.random() * (max - min + 1)) + min;
};

const printGameScreen = (level) => {
  const container2 = document.querySelector("#game-screen .array");
  let i = 1;
  copy[level].forEach((row, index1) => {
    const move = document.createElement("div");
    move.setAttribute("id", `move${i}`);
    move.classList.add("container");
    const trash = document.createElement("div");
    trash.classList.add("container");
    row.forEach((rgb) => {
      if (numbers.includes(index1)) {
        const rectangle = document.createElement("div");
        rectangle.style.backgroundColor = rgb;
        rectangle.setAttribute("draggable", "false");
        rectangle.classList.add("rectangle");
        move.appendChild(rectangle);
      } else {
        const rectangle = document.createElement("div");
        rectangle.style.backgroundColor = rgb;
        rectangle.setAttribute("draggable", "false");
        rectangle.classList.add("rectangle");
        trash.appendChild(rectangle);
        trash.classList.add("trash");
      }
    });
    if (numbers.includes(index1)) {
      container2.appendChild(move);
      i++;
    } else {
      trash.classList.add("ignore-elements");
      container2.appendChild(trash);
    }
  });

  new Sortable(move1, {
    group: {
      name: "move1",
      put: "move2",
      pull: true,
    },
    swap: true,
    filter: ".ignore-elements",
  });

  new Sortable(move2, {
    group: {
      name: "move2",
      put: "move1",
      pull: true,
    },
    swap: true,
    filter: ".ignore-elements",
  });
};

let container = document.querySelector("#game-screen .array");
let templatecheck = document.querySelector("#hint-screen .array");

const startLevel = (level) => {
  // generate numbers
  numbers = [];
  while (numbers.length != 2) {
    let number = randomInteger(0, 7);
    if (numbers.includes(number)) {
      continue;
    }
    numbers.push(number);
  }
  console.log(numbers);
  // mix row in level
  let mix = [];
  numbers.forEach((element) => {
    copy[level][element].forEach((element2) => {
      mix.push(element2);
    });
  });
  shuffleArray(mix);

  // give back mix colors to level
  let i = 0;
  numbers.forEach((element) => {
    copy[level][element] = [];
    for (let j = 0; j < 8; j++) {
      copy[level][element].push(mix[i]);
      i++;
    }
  });

  // print
  printGameScreen(level);
};

const startGame = () => {
  const gameScreen = document.querySelector("#game-screen");
  const buttonPlay = document.querySelector("#introduction-screen #play");
  const introductionScreen = document.querySelector("#introduction-screen");
  const instructionScreen = document.querySelector("#instruction-screen");
  const buttonBackInstroctions = document.querySelector(
    "#instruction-screen .back"
  );
  const buttonInstruction = document.querySelector("#game-screen #instruction");
  const buttonCheck = document.querySelector("#game-screen #check");
  const buttonHint = document.querySelector("#game-screen #hint");
  const hintScreen = document.querySelector("#hint-screen");
  const hintScreenButtonBack = document.querySelector("#hint-screen .back");
  buttonPlay.addEventListener("click", () => {
    introductionScreen.classList.remove("show");
    introductionScreen.classList.add("hide");
    gameScreen.classList.remove("hide");
    gameScreen.classList.add("show");
    startLevel(numbersOfLevels[0]);
  });

  buttonInstruction.addEventListener("click", () => {
    gameScreen.classList.remove("show");
    gameScreen.classList.add("hide");
    instructionScreen.classList.remove("hide");
    instructionScreen.classList.add("show");
  });
  buttonBackInstroctions.addEventListener("click", () => {
    instructionScreen.classList.remove("show");
    instructionScreen.classList.add("hide");
    gameScreen.classList.remove("hide");
    gameScreen.classList.add("show");
  });
  buttonCheck.addEventListener("click", () => {
    CheckOrder();
  });
  buttonHint.addEventListener("click", () => {
    document.querySelector("#hint-screen .array").innerHTML = "";
    gameScreen.classList.remove("show");
    gameScreen.classList.add("hide");
    hintScreen.classList.remove("hide");
    hintScreen.classList.add("show");
    showTempalate();
  });
  hintScreenButtonBack.addEventListener("click", () => {
    hintScreen.classList.remove("show");
    hintScreen.classList.add("hide");
    gameScreen.classList.remove("hide");
    gameScreen.classList.add("show");
  });
};

const showTempalate = () => {
  let template = generateTemplate(numbersOfLevels[0]);
  const hintScreen = document.querySelector("#hint-screen .array");
  hintScreen.appendChild(template);
};

const CheckOrder = () => {
  let template = generateTemplate(numbersOfLevels[0]);
  console.log(template.innerHTML === container.innerHTML);
  console.log(template);
  console.log(container);
  if (template.innerHTML === container.innerHTML) {
    clearGameScreen();
    numbersOfLevels.shift();
    localStorage.setItem("numbersOfLevels", JSON.stringify(numbersOfLevels));
    if (numbersOfLevels.length == 0) {
      numbersOfLevels = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
      shuffleArray(numbersOfLevels);
      localStorage.setItem("numbersOfLevels", JSON.stringify(numbersOfLevels));
    }
    startLevel(numbersOfLevels[0]);
  }
};

const generateTemplate = (num) => {
  let template = document.createElement("div");
  let i = 1;
  levels[num].forEach((row, index1) => {
    const move = document.createElement("div");
    move.setAttribute("id", `move${i}`);
    move.classList.add("container");
    const trash = document.createElement("div");
    trash.classList.add("container");
    row.forEach((rgb) => {
      if (numbers.includes(index1)) {
        const rectangle = document.createElement("div");
        rectangle.style.backgroundColor = rgb;
        rectangle.setAttribute("draggable", "false");
        rectangle.classList.add("rectangle");
        move.appendChild(rectangle);
      } else {
        const rectangle = document.createElement("div");
        rectangle.style.backgroundColor = rgb;
        rectangle.setAttribute("draggable", "false");
        rectangle.classList.add("rectangle");
        trash.appendChild(rectangle);
        trash.classList.add("trash");
      }
    });
    if (numbers.includes(index1)) {
      template.appendChild(move);
      i++;
    } else {
      trash.classList.add("ignore-elements");
      template.appendChild(trash);
    }
  });

  return template;
};

const clearGameScreen = () => {
  const arrayScreen = document.querySelector("#game-screen .array");
  arrayScreen.innerHTML = "";
  flag = true;
};

const playGame = () => {
  if (localStorage.numbersOfLevels) {
    numbersOfLevels = JSON.parse(localStorage.numbersOfLevels);
    shuffleArray(numbersOfLevels);
    localStorage.setItem("numbersOfLevels", JSON.stringify(numbersOfLevels));
  } else {
    numbersOfLevels = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    shuffleArray(numbersOfLevels);
    localStorage.setItem("numbersOfLevels", JSON.stringify(numbersOfLevels));
  }
  if (numbersOfLevels.length == 0) {
    numbersOfLevels = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    shuffleArray(numbersOfLevels);
    localStorage.setItem("numbersOfLevels", JSON.stringify(numbersOfLevels));
  }
  copy = copyOfArray(levels);
};

const counterAccomplishLevels = () => {
  let counterScreen = document.querySelector(
    "#game-screen .accomplish-levels h1"
  );
  let counter = 11 - numbersOfLevels.length;
  counterScreen.innerHTML = `${counter}/10`;
};

const game = () => {
  startGame();
  playGame();
};

game();

navigator.serviceWorker
  .register("./serviceWorker.js")
  .then(function (reg) {
    console.log("service worker registered", reg);
  })
  .catch(function (err) {
    console.log("error when registering service worker", err);
  });
